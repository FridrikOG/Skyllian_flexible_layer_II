{"ast":null,"code":"var _jsxFileName = \"/Users/fridrikorngunnarsson/Documents/GitHub/save_game/save_game/lightweight_blockchain-main/blockchain_webinterface/annall_ui/src/components/NodeSystem/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport matchService from \"../../services/matchService\";\nimport { useDispatch } from \"react-redux\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NodeSystem = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate;\n  const [title, settitle] = useState(\"\");\n  const [question, setquestion] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  const [answer1, setAnswer1] = useState(\"\");\n  const [answer2, setAnswer2] = useState(\"\");\n  const [answer3, setAnswer3] = useState(\"\");\n  const [answer4, setAnswer4] = useState(\"\");\n  const [answer1Correct, setAnswer1Correct] = useState(false);\n  const [answer2Correct, setAnswer2Correct] = useState(false);\n  const [answer3Correct, setAnswer3Correct] = useState(false);\n  const [answer4Correct, setAnswer4Correct] = useState(false);\n  const [errors, setErrors] = useState({\n    title: \"\",\n    question: \"\",\n    url: \"\"\n  });\n  const [correctAnswer, setCorrectAnswer] = useState(\"answer_1\");\n  const [userIsAuth, setUserIsAuth] = useState(false);\n  const [userInfo, setUserInfo] = useState(\"\");\n\n  const handleChange = e => {\n    setCorrectAnswer(e.target.value);\n  };\n\n  const validate = () => {\n    let isValid = true;\n    const le = {\n      title: \"\",\n      question: \"\",\n      url: \"\"\n    };\n\n    if (title.length <= 0) {\n      le[\"title\"] = \" can't be empty\";\n      isValid = false;\n    }\n\n    if (question.length < 6) {\n      le[\"question\"] = \" should be at least 6 in length\";\n      isValid = false;\n    }\n\n    if (url.length < 5) {\n      le[\"url\"] = \" should be at least 5 in length\";\n      isValid = false;\n    }\n\n    if (answer1.length < 3) {\n      le[\"answer1\"] = \" should be at least 3 in length\";\n      isValid = false;\n    }\n\n    if (answer2.length < 3) {\n      le[\"answer2\"] = \" should be at least 3 in length\";\n      isValid = false;\n    }\n\n    if (answer3.length < 3) {\n      le[\"answer3\"] = \" should be at least 3 in length\";\n      isValid = false;\n    }\n\n    if (answer4.length < 3) {\n      le[\"answer4\"] = \" should be at least 3 in length\";\n      isValid = false;\n    }\n\n    setErrors(le);\n    return isValid;\n  };\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const isAuth = true;\n\n    if (user == null) {\n      setUserIsAuth(false);\n      navigate(\"/user/login\");\n    }\n\n    const fetchData = async () => {\n      const requestOptions = {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\"\n      };\n      const userData = await fetch(\"http://localhost:4567/user/info\", requestOptions);\n      console.log(\"user data \", userData);\n\n      if (!userData.ok) {\n        console.log(\"user not auth\");\n      } else {\n        console.log(\"user ok\");\n        const userInfo = await userData.json();\n        console.log(\"Logging user info \", userInfo);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const handleOnSubmit = async e => {\n    // Send to server\n    e.preventDefault();\n    console.log(\"Value \", correctAnswer); // If error then we don't dispatch\n    //   if (!validate(title, question, url)) return;\n\n    let correct1 = false;\n    let correct2 = false;\n    let correct3 = false;\n    let correct4 = false;\n\n    if (correctAnswer == \"answer_1\") {\n      correct1 = true;\n    } else if (correctAnswer == \"answer_2\") {\n      correct2 = true;\n    } else if (correctAnswer == \"answer_3\") {\n      correct3 = true;\n    } else {\n      correct4 = true;\n    }\n\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    console.log(\"The user \", user, \"id \", user.id);\n    console.log(\"The user right here on submit \", user);\n    let theQuestions = [{\n      title: \"The biggest earwax in the world is?\",\n      options: [{\n        value: \"your aunt's pants\",\n        correct: true\n      }, {\n        value: \"Your grandma\",\n        correct: false\n      }]\n    }];\n    let requestOptions = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\",\n      body: JSON.stringify({\n        title: title,\n        titleImage: url,\n        questions: theQuestions,\n        owner: user\n      })\n    };\n    let res = await fetch(\"http://localhost:4567/matches\", requestOptions);\n    console.log(\"Res \", res);\n    let getRequest = {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    let userRes = await fetch(\"http://localhost:4567/user/info\", getRequest);\n    console.log(\"user res \", userRes);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Create match!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      action: \"\",\n      method: \"get\",\n      onSubmit: e => handleOnSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"title\", errors.title, /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: title,\n          title: \"title\",\n          onChange: e => settitle(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Image\", errors.url, /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: url,\n          title: \"url\",\n          onChange: e => setUrl(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"question\", errors.question, /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: question,\n          title: \"question\",\n          onChange: e => setquestion(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"answer 1\", errors.answer1, /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: answer1,\n          title: \"answer1\",\n          onChange: e => setAnswer1(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"answer 2\", errors.answer2, /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: answer2,\n          title: \"answer1\",\n          onChange: e => setAnswer2(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"answer 3\", errors.answer3, /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: answer3,\n          title: \"answer3\",\n          onChange: e => setAnswer3(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"answer 4\", errors.answer4, /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: answer4,\n          title: \"answer4\",\n          onChange: e => setAnswer4(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Which one is correct\", /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"option\",\n          onChange: handleChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"answer_1\",\n            children: \"Answer 1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"answer_2\",\n            children: \"Answer 2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"answer_3\",\n            children: \"Answer 3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"answer_4\",\n            children: \"Answer 4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n};\n\n_s(NodeSystem, \"Xx7yMm7+URt9J2ARZKVVrG/+TwM=\", false, function () {\n  return [useDispatch];\n});\n\n_c = NodeSystem;\nexport default NodeSystem;\n\nvar _c;\n\n$RefreshReg$(_c, \"NodeSystem\");","map":{"version":3,"sources":["/Users/fridrikorngunnarsson/Documents/GitHub/save_game/save_game/lightweight_blockchain-main/blockchain_webinterface/annall_ui/src/components/NodeSystem/index.js"],"names":["React","useState","useEffect","matchService","useDispatch","Link","useNavigate","NodeSystem","dispatch","navigate","title","settitle","question","setquestion","url","setUrl","answer1","setAnswer1","answer2","setAnswer2","answer3","setAnswer3","answer4","setAnswer4","answer1Correct","setAnswer1Correct","answer2Correct","setAnswer2Correct","answer3Correct","setAnswer3Correct","answer4Correct","setAnswer4Correct","errors","setErrors","correctAnswer","setCorrectAnswer","userIsAuth","setUserIsAuth","userInfo","setUserInfo","handleChange","e","target","value","validate","isValid","le","length","user","JSON","parse","localStorage","getItem","isAuth","fetchData","requestOptions","method","headers","credentials","userData","fetch","console","log","ok","json","handleOnSubmit","preventDefault","correct1","correct2","correct3","correct4","id","theQuestions","options","correct","body","stringify","titleImage","questions","owner","res","getRequest","userRes"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport matchService from \"../../services/matchService\";\nimport { useDispatch } from \"react-redux\";\nimport { Link, useNavigate } from \"react-router-dom\";\nconst NodeSystem = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate;\n  const [title, settitle] = useState(\"\");\n  const [question, setquestion] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  const [answer1, setAnswer1] = useState(\"\");\n  const [answer2, setAnswer2] = useState(\"\");\n  const [answer3, setAnswer3] = useState(\"\");\n  const [answer4, setAnswer4] = useState(\"\");\n  const [answer1Correct, setAnswer1Correct] = useState(false);\n  const [answer2Correct, setAnswer2Correct] = useState(false);\n  const [answer3Correct, setAnswer3Correct] = useState(false);\n  const [answer4Correct, setAnswer4Correct] = useState(false);\n  const [errors, setErrors] = useState({ title: \"\", question: \"\", url: \"\" });\n  const [correctAnswer, setCorrectAnswer] = useState(\"answer_1\");\n  const [userIsAuth, setUserIsAuth] = useState(false);\n  const [userInfo, setUserInfo] = useState(\"\");\n  const handleChange = (e) => {\n    setCorrectAnswer(e.target.value);\n  };\n  const validate = () => {\n    let isValid = true;\n    const le = { title: \"\", question: \"\", url: \"\" };\n    if (title.length <= 0) {\n      le[\"title\"] = \" can't be empty\";\n      isValid = false;\n    }\n\n    if (question.length < 6) {\n      le[\"question\"] = \" should be at least 6 in length\";\n      isValid = false;\n    }\n    if (url.length < 5) {\n      le[\"url\"] = \" should be at least 5 in length\";\n      isValid = false;\n    }\n    if (answer1.length < 3) {\n      le[\"answer1\"] = \" should be at least 3 in length\";\n      isValid = false;\n    }\n    if (answer2.length < 3) {\n      le[\"answer2\"] = \" should be at least 3 in length\";\n      isValid = false;\n    }\n    if (answer3.length < 3) {\n      le[\"answer3\"] = \" should be at least 3 in length\";\n      isValid = false;\n    }\n    if (answer4.length < 3) {\n      le[\"answer4\"] = \" should be at least 3 in length\";\n      isValid = false;\n    }\n\n    setErrors(le);\n    return isValid;\n  };\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    const isAuth = true;\n    if (user == null) {\n      setUserIsAuth(false);\n      navigate(\"/user/login\");\n    }\n    const fetchData = async () => {\n      const requestOptions = {\n        method: \"GET\",\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n      };\n\n      const userData = await fetch(\n        \"http://localhost:4567/user/info\",\n        requestOptions\n      );\n      console.log(\"user data \", userData);\n      if (!userData.ok) {\n        console.log(\"user not auth\");\n      } else {\n        console.log(\"user ok\");\n        const userInfo = await userData.json();\n        console.log(\"Logging user info \", userInfo);\n      }\n    };\n    fetchData();\n  }, []);\n\n  const handleOnSubmit = async (e) => {\n    // Send to server\n    e.preventDefault();\n    console.log(\"Value \", correctAnswer);\n    // If error then we don't dispatch\n    //   if (!validate(title, question, url)) return;\n    let correct1 = false;\n    let correct2 = false;\n    let correct3 = false;\n    let correct4 = false;\n\n    if (correctAnswer == \"answer_1\") {\n      correct1 = true;\n    } else if (correctAnswer == \"answer_2\") {\n      correct2 = true;\n    } else if (correctAnswer == \"answer_3\") {\n      correct3 = true;\n    } else {\n      correct4 = true;\n    }\n\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    console.log(\"The user \", user, \"id \", user.id);\n    console.log(\"The user right here on submit \", user);\n    let theQuestions = [\n      {\n        title: \"The biggest earwax in the world is?\",\n        options: [\n          {\n            value: \"your aunt's pants\",\n            correct: true,\n          },\n          {\n            value: \"Your grandma\",\n            correct: false,\n          },\n        ],\n      },\n    ];\n\n    let requestOptions = {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      credentials: \"include\",\n      body: JSON.stringify({\n        title: title,\n        titleImage: url,\n        questions: theQuestions,\n        owner: user,\n      }),\n    };\n    let res = await fetch(\"http://localhost:4567/matches\", requestOptions);\n    console.log(\"Res \", res);\n\n    let getRequest = {\n      method: \"GET\",\n      headers: { \"Content-Type\": \"application/json\" },\n    };\n    let userRes = await fetch(\"http://localhost:4567/user/info\", getRequest);\n    console.log(\"user res \", userRes);\n  };\n\n  return (\n    <div>\n      <h1>Create match!</h1>\n      <form action=\"\" method=\"get\" onSubmit={(e) => handleOnSubmit(e)}>\n        <label>\n          title\n          {errors.title}\n          <input\n            type=\"text\"\n            value={title}\n            title=\"title\"\n            onChange={(e) => settitle(e.target.value)}\n          />\n        </label>\n\n        <label>\n          Image\n          {errors.url}\n          <input\n            type=\"text\"\n            value={url}\n            title=\"url\"\n            onChange={(e) => setUrl(e.target.value)}\n          />\n        </label>\n        <label>\n          question\n          {errors.question}\n          <input\n            type=\"text\"\n            value={question}\n            title=\"question\"\n            onChange={(e) => setquestion(e.target.value)}\n          />\n        </label>\n        <label>\n          answer 1{errors.answer1}\n          <input\n            type=\"text\"\n            value={answer1}\n            title=\"answer1\"\n            onChange={(e) => setAnswer1(e.target.value)}\n          />\n        </label>\n        <label>\n          answer 2{errors.answer2}\n          <input\n            type=\"text\"\n            value={answer2}\n            title=\"answer1\"\n            onChange={(e) => setAnswer2(e.target.value)}\n          />\n        </label>\n        <label>\n          answer 3{errors.answer3}\n          <input\n            type=\"text\"\n            value={answer3}\n            title=\"answer3\"\n            onChange={(e) => setAnswer3(e.target.value)}\n          />\n        </label>\n        <label>\n          answer 4{errors.answer4}\n          <input\n            type=\"text\"\n            value={answer4}\n            title=\"answer4\"\n            onChange={(e) => setAnswer4(e.target.value)}\n          />\n        </label>\n        <label>\n          Which one is correct\n          <select name=\"option\" onChange={handleChange}>\n            <option value=\"answer_1\">Answer 1</option>\n            <option value=\"answer_2\">Answer 2</option>\n            <option value=\"answer_3\">Answer 3</option>\n            <option value=\"answer_4\">Answer 4</option>\n          </select>\n        </label>\n\n        <button type=\"submit\">Create</button>\n      </form>\n    </div>\n  );\n};\nexport default NodeSystem;\n"]},"metadata":{},"sourceType":"module"}