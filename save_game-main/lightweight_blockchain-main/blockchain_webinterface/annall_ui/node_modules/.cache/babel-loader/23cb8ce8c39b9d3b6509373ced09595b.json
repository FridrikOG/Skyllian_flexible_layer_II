{"ast":null,"code":"var _jsxFileName = \"/Users/fridrikorngunnarsson/Documents/GitHub/save_game/save_game/lightweight_blockchain-main/blockchain_webinterface/annall_ui/src/components/authNavBar/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport pic from \"../pics/bestboss.jpeg\";\nimport { Navigate, NavLink, useNavigate } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport userService from \"../../services/userService\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Profile from \"../profile\";\nimport { Button } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AuthNavBar = navigate => {\n  _s();\n\n  const dispatch = useDispatch();\n  const reduxUser = useSelector(state => state.userReducer.data);\n  let [user, setUser] = useState(\"\");\n  let [isAuthenticated, setIsAuthenticated] = useState(reduxUser !== undefined); // console.log(\"Redux user \", reduxUser);\n  // console.log(\"Is auth \", isAuthenticated);\n  // console.log(\"The actual fk user  \", user);\n  // const fetchUser = async () => {\n  //   const userDisp = await dispatch(userService().getUser());\n  //   console.log(\"The user\");\n  //   const userJson = userDisp;\n  //   console.log(\"is the user logged out \", userDisp);\n  //   setIsAuthenticated(true);\n  //   localStorage.setItem(\"user\", JSON.stringify(userJson));\n  //   setUser(userDisp);\n  //   if (userDisp == undefined) {\n  //     navigate(\"user/login\");\n  //   }\n  // };\n  // useEffect(() => {\n  //   fetchUser();\n  // }, []);\n\n  const handleOnLogout = async (e, navigate) => {\n    e.preventDefault();\n    const userDisp = await dispatch(userService().logout());\n    const theUser = await dispatch(userService().getUser());\n    console.log(\"Inside logout  \", theUser);\n\n    if (!theUser) {\n      // navigate(\"/user/login\");\n      localStorage.remove(\"user\");\n      console.log(\"Logged out \");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"navbar\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"logo\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: pic,\n        className: \"logo-picture\",\n        alt: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"logo-name\",\n        children: \"Lets play a game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: e => handleOnLogout(e),\n        className: \"nav-link\",\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AuthNavBar, \"aNXMkcSvSMZOMrpqsyZPuLiMoNQ=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = AuthNavBar;\nexport default AuthNavBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthNavBar\");","map":{"version":3,"sources":["/Users/fridrikorngunnarsson/Documents/GitHub/save_game/save_game/lightweight_blockchain-main/blockchain_webinterface/annall_ui/src/components/authNavBar/index.jsx"],"names":["React","useState","useEffect","pic","Navigate","NavLink","useNavigate","Link","userService","useDispatch","useSelector","Profile","Button","AuthNavBar","navigate","dispatch","reduxUser","state","userReducer","data","user","setUser","isAuthenticated","setIsAuthenticated","undefined","handleOnLogout","e","preventDefault","userDisp","logout","theUser","getUser","console","log","localStorage","remove"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,SAASC,QAAT,EAAmBC,OAAnB,EAA4BC,WAA5B,QAA+C,kBAA/C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,OAAP,MAAoB,YAApB;AAEA,SAASC,MAAT,QAAuB,iBAAvB;;;AAEA,MAAMC,UAAU,GAAIC,QAAD,IAAc;AAAA;;AAC/B,QAAMC,QAAQ,GAAGN,WAAW,EAA5B;AACA,QAAMO,SAAS,GAAGN,WAAW,CAAEO,KAAD,IAAWA,KAAK,CAACC,WAAN,CAAkBC,IAA9B,CAA7B;AACA,MAAI,CAACC,IAAD,EAAOC,OAAP,IAAkBpB,QAAQ,CAAC,EAAD,CAA9B;AACA,MAAI,CAACqB,eAAD,EAAkBC,kBAAlB,IAAwCtB,QAAQ,CAACe,SAAS,KAAKQ,SAAf,CAApD,CAJ+B,CAK/B;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAMC,cAAc,GAAG,OAAOC,CAAP,EAAUZ,QAAV,KAAuB;AAC5CY,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,QAAQ,GAAG,MAAMb,QAAQ,CAACP,WAAW,GAAGqB,MAAd,EAAD,CAA/B;AACA,UAAMC,OAAO,GAAG,MAAMf,QAAQ,CAACP,WAAW,GAAGuB,OAAd,EAAD,CAA9B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BH,OAA/B;;AACA,QAAI,CAACA,OAAL,EAAc;AACZ;AACAI,MAAAA,YAAY,CAACC,MAAb,CAAoB,MAApB;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACD;AACF,GAVD;;AAYA,sBACE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,8BACE;AAAK,QAAA,GAAG,EAAE9B,GAAV;AAAe,QAAA,SAAS,EAAC,cAAzB;AAAwC,QAAA,GAAG,EAAC;AAA5C;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAM,QAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAME;AAAA,6BACE,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAGuB,CAAD,IAAOD,cAAc,CAACC,CAAD,CAAtC;AAA2C,QAAA,SAAS,EAAC,UAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YANF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAcD,CApDD;;GAAMb,U;UACaJ,W,EACCC,W;;;KAFdG,U;AAsDN,eAAeA,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport pic from \"../pics/bestboss.jpeg\";\nimport { Navigate, NavLink, useNavigate } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport userService from \"../../services/userService\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Profile from \"../profile\";\n\nimport { Button } from \"react-bootstrap\";\n\nconst AuthNavBar = (navigate) => {\n  const dispatch = useDispatch();\n  const reduxUser = useSelector((state) => state.userReducer.data);\n  let [user, setUser] = useState(\"\");\n  let [isAuthenticated, setIsAuthenticated] = useState(reduxUser !== undefined);\n  // console.log(\"Redux user \", reduxUser);\n  // console.log(\"Is auth \", isAuthenticated);\n  // console.log(\"The actual fk user  \", user);\n\n  // const fetchUser = async () => {\n  //   const userDisp = await dispatch(userService().getUser());\n  //   console.log(\"The user\");\n  //   const userJson = userDisp;\n  //   console.log(\"is the user logged out \", userDisp);\n  //   setIsAuthenticated(true);\n  //   localStorage.setItem(\"user\", JSON.stringify(userJson));\n  //   setUser(userDisp);\n\n  //   if (userDisp == undefined) {\n  //     navigate(\"user/login\");\n  //   }\n  // };\n  // useEffect(() => {\n  //   fetchUser();\n  // }, []);\n\n  const handleOnLogout = async (e, navigate) => {\n    e.preventDefault();\n    const userDisp = await dispatch(userService().logout());\n    const theUser = await dispatch(userService().getUser());\n    console.log(\"Inside logout  \", theUser);\n    if (!theUser) {\n      // navigate(\"/user/login\");\n      localStorage.remove(\"user\");\n      console.log(\"Logged out \");\n    }\n  };\n\n  return (\n    <div className=\"navbar\">\n      <div className=\"logo\">\n        <img src={pic} className=\"logo-picture\" alt=\"logo\" />\n        <span className=\"logo-name\">Lets play a game</span>\n      </div>\n\n      <div>\n        <Button onClick={(e) => handleOnLogout(e)} className=\"nav-link\">\n          Logout\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default AuthNavBar;\n"]},"metadata":{},"sourceType":"module"}